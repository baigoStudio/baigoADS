!function(t){t.fn.baigoUbb=function(e){"use strict";if(this.length<1)return this;var a=t(this),o=a[0],n=t.extend(!0,{menu_selector:".bg-ubb-menu",menu_text:{color:"Color",bgcolor:"Background color",heading:"Heading"},format:{strong:{text:"Bold",icon:"fas fa-bold"},i:{text:"Italic",icon:"fas fa-italic"},u:{text:"Underline",icon:"fas fa-underline"}},color:{aqua:{text:"Aqua",ext:"#333"},black:"Black",blue:"Blue",fuchsia:"Fuchsia",gray:"Gray",green:"Green",lime:{text:"Lime",ext:"#333"},maroon:"Maroon",navy:"Navy",olive:"Olive",purple:"Purple",red:"Red",silver:"Silver",teal:"Teal",white:{text:"White",ext:"#333"},yellow:{text:"Yellow",ext:"#333"}},bgcolor:{aqua:{text:"Aqua",ext:"#000"},black:"Black",blue:"Blue",fuchsia:"Fuchsia",gray:"Gray",green:"Green",lime:{text:"Lime",ext:"#000"},maroon:"Maroon",navy:"Navy",olive:"Olive",purple:"Purple",red:"Red",silver:"Silver",teal:"Teal",white:{text:"White",ext:"#000"},yellow:{text:"Yellow",ext:"#000"}},heading:{h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},dialog:{img:{text:"Image",icon:"fas fa-image",ext:["src","text"]},url:{text:"Link",icon:"fas fa-link",ext:["href","text"]}},single:{hr:{text:"Horizontal rule",icon:"fas fa-minus"},br:{text:"Break line",icon:"fas fa-paragraph"}}},e),i='<div class="bg-ubb-menu mb-2"><div class="btn-toolbar"><div class="btn-group btn-group-sm mr-2 bg-ubb-format"></div><div class="btn-group btn-group-sm mr-2"><div class="btn-group btn-group-sm"><button type="button" class="btn btn-outline-secondary dropdown-toggle" data-toggle="dropdown">'+n.menu_text.heading+'</button><div class="dropdown-menu bg-ubb-heading"></div></div><div class="btn-group btn-group-sm"><button type="button" class="btn btn-outline-secondary dropdown-toggle" data-toggle="dropdown">'+n.menu_text.color+'</button><div class="dropdown-menu bg-ubb-color"></div></div><div class="btn-group btn-group-sm"><button type="button" class="btn btn-outline-secondary dropdown-toggle" data-toggle="dropdown">'+n.menu_text.bgcolor+'</button><div class="dropdown-menu bg-ubb-bgcolor"></div></div></div><div class="btn-group btn-group-sm mr-2 bg-ubb-dialog"></div><div class="btn-group btn-group-sm bg-ubb-single"></div></div></div>';t(n.menu_selector).length<1&&a.before(i);var l=function(e,a,o){var i="";t.each(e,function(t,e){var a="",n="",l="";switch("string"==typeof e?a=e:"object"==typeof e&&("string"==typeof e.text&&(a=e.text),n="string"==typeof e.icon?'<span class="'+e.icon+'"></span>':a,"string"==typeof e.ext&&(l=e.ext)),i+='<button type="button"',o){case"heading":n="<"+t+">"+a+"</"+t+">",i+=' class="dropdown-item bg-pair" data-tag="'+t+'"';break;case"color":n='<span style="color:'+t+";",l.length>0&&(n+="background-color:"+l+";"),n+='">'+a+"</span>",i+=' class="dropdown-item bg-tag" data-tag="color" data-value="'+t+'"';break;case"bgcolor":l.length<1&&(l="white"),n='<span style="background-color:'+t+";color:"+l+';">'+a+"</span>",i+=' class="dropdown-item bg-tag" data-tag="bgcolor" data-value="'+t+'"';break;case"format":i+=' class="btn btn-outline-secondary bg-pair" data-tag="'+t+'"';break;default:i+=' class="btn btn-outline-secondary bg-'+o+'" data-tag="'+t+'"'}i+=' title="'+a+'">'+n+"</button>"}),t(n.menu_selector+" "+a).html(i)},r={addSingle:function(t){if(void 0!==t&&t.length>0){var e=o.value.length,a=o.selectionStart,n=o.selectionEnd;o.value=o.value.substring(0,a)+"["+t+"]"+o.value.substring(n,e)}},addPair:function(t){if(void 0!==t&&t.length>0){var e=o.value.length,a=o.selectionStart,n=o.selectionEnd,i=o.value.substring(a,n);if(i.length>0){var l="["+t+"]"+i+"[/"+t+"]";o.value=o.value.substring(0,a)+l+o.value.substring(n,e)}}},addTag:function(t,e){if(void 0!==t&&t.length>0){var a=o.value.length,n=o.selectionStart,i=o.selectionEnd,l=o.value.substring(n,i);if(l.length>0){var r="["+t;void 0!==e&&e.length>0&&"string"==typeof e?r+="="+e+"]":r+="]",r+=l+"[/"+t+"]",o.value=o.value.substring(0,n)+r+o.value.substring(i,a)}}},insertTag:function(t,e){var a=o.value.length,n=o.selectionStart;if(void 0!==t&&t.length>0&&void 0!==e&&e.length>0){var i="["+t;"object"==typeof e?void 0!==e[0]&&e[0].length>0&&"string"==typeof e[0]&&void 0!==e[1]&&e[1].length>0&&"string"==typeof e[1]?i+="="+e[0]+"]"+e[1]:void 0!==e[0]&&e[0].length>0&&"string"==typeof e[0]&&(i+="]"+e[0]):"string"==typeof e&&(i+="]"+e),i+="[/"+t+"]",o.value=o.value.substring(0,n)+i+o.value.substring(n,a)}}};return l(n.format,".bg-ubb-format","format"),l(n.heading,".bg-ubb-heading","heading"),l(n.color,".bg-ubb-color","color"),l(n.bgcolor,".bg-ubb-bgcolor","bgcolor"),l(n.dialog,".bg-ubb-dialog","dialog"),l(n.single,".bg-ubb-single","single"),a.keyup(function(t){13==t.keyCode&&r.addSingle("br")}),t(n.menu_selector).on("click",".bg-pair",function(){var e=t(this).data("tag");r.addPair(e)}),t(n.menu_selector).on("click",".bg-single",function(){var e=t(this).data("tag");r.addSingle(e)}),t(n.menu_selector).on("click",".bg-tag",function(){var e=t(this).data("tag"),a=t(this).data("value");r.addTag(e,a)}),t(n.menu_selector).on("click",".bg-dialog",function(){var e=t(this).data("tag"),a=e;void 0!==n.dialog[e]&&("string"==typeof n.dialog[e]?a=n.dialog[e]:"object"==typeof n.dialog[e]&&(void 0!==n.dialog[e].ext?a=n.dialog[e].ext:void 0!==n.dialog[e].text&&(a=n.dialog[e].text))),t.baigoDialog().input(a,function(t,a){void 0!==t&&"ok"==t&&r.insertTag(e,a)})}),"string"==typeof e&&void 0!==r[e]&&r[e].apply(this,Array.prototype.slice.call(arguments,1)),r}}(jQuery);