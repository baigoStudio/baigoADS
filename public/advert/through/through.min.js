!function(t){t.fn.adsThrough=function(o){"use strict";var a,e=t(this),s=t.extend({data_url:"",selector:{btn_close:".btn-close",box:".through-child"},class_name:{btn_close:"btn-close",box:"through-child",img:"through-child-img"},loading:"Loading...",position:"top",close:"close"},o);a=s.data_url.indexOf("?")>0?"&":"?",t.ajax({url:s.data_url+a+(new Date).getTime()+"at"+Math.random(),type:"get",dataType:"jsonp",data:"",beforeSend:function(){e.html('<div class="'+s.class_name.box+'">'+s.loading+"</div>")},success:function(o){if(void 0!==o.posiRow&&void 0!==o.advertRows[0]){var a,i=o.posiRow,c=o.advertRows[0],d=c.attachRow,n=s;void 0!==i.posi_opts&&(n=t.extend(n,i.posi_opts)),function(t){switch(s.position){case"bottom":_css_posi={bottom:0,left:0};break;default:_css_posi={top:0,left:0}}e.find(s.selector.box).css(_css_posi)}(),void 0!==c.advert_href&&(a=c.advert_href);var l='<div><a href="'+a+'" target="_blank">'+(void 0!==c.attachRow.attach_url?'<img src="'+d.attach_url+'" class="'+s.class_name.img+'" id="posi-'+i.posi_id+"-attach-"+d.attach_id+'" alt="'+c.advert_name+'" title="'+c.advert_name+'">':void 0!==c.advert_content?c.advert_content:c.advert_name)+'</a></div><div class="'+s.class_name.btn_close+'"><a href="javascript:void(0);">&times; '+i.posi_close+"</a></div>";e.find(s.selector.box).html(l),e.find(s.selector.box).on("click",s.selector.btn_close,function(){e.find(s.selector.box).hide()})}}})}}(jQuery);