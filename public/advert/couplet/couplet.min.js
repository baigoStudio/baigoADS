!function(t){t.fn.adsCouplet=function(o){"use strict";var e,a=t(this),i=t.extend({data_url:"",selector:{btn_close:".btn-close",box:".couplet-child"},class_name:{btn_close:"btn-close",box:"couplet-child",img:"couplet-child-img"},position:"top",top:"50px",bottom:"50px",left:"10px",right:"10px",loading:"Loading..."},o);e=i.data_url.indexOf("?")>0?"&":"?";t.ajax({url:i.data_url+e+(new Date).getTime()+"at"+Math.random(),type:"get",dataType:"jsonp",data:"",beforeSend:function(){a.html('<div class="'+i.class_name.box+' left">'+i.loading+'</div><div class="'+i.class_name.box+' right">'+i.loading+"</div>")},success:function(o){if(void 0!==o.posiRow&&void 0!==o.advertRows[0]){var e,s=o.posiRow,c=o.advertRows[0],l=c.attachRow,d=i;void 0!==s.posi_opts&&(d=t.extend(d,s.posi_opts)),function(t){var o,e;switch(t.position){case"bottom":o={bottom:t.bottom,left:t.left},e={bottom:t.bottom,right:t.right};break;default:o={top:t.top,left:t.left},e={top:t.top,right:t.right}}a.find(i.selector.box+".left").css(o),a.find(i.selector.box+".right").css(e)}(d),void 0!==c.advert_href&&(e=c.advert_href);var n='<div><a href="'+e+'" target="_blank">'+(void 0!==c.attachRow.attach_url?'<img src="'+l.attach_url+'" class="'+i.class_name.img+'" id="posi-'+s.posi_id+"-attach-"+l.attach_id+'" alt="'+c.advert_name+'" title="'+c.advert_name+'">':void 0!==c.advert_content?c.advert_content:c.advert_name)+'</a></div><div class="'+i.class_name.btn_close+'"><a href="javascript:void(0);">&times; '+s.posi_close+"</a></div>";a.find(i.selector.box).html(n),a.find(i.selector.box).on("click",i.selector.btn_close,function(){a.find(i.selector.box).hide()})}}})}}(jQuery);