!function(a){a.fn.adsCarousel=function(e){"use strict";var o,s=a(this),t=a.extend({data_url:"",selector:{box:".carousel-child"},class_name:{box:"carousel-child",img:"carousel-child-img"},effect:"slide",indicator:"on",caption:"on",advert_name:"on",loading:"Loading..."},e);o=t.data_url.indexOf("?")>0?"&":"?",a.ajax({url:t.data_url+o+(new Date).getTime()+"at"+Math.random(),type:"get",dataType:"jsonp",data:"",beforeSend:function(){s.html('<div class="'+t.class_name.box+'">'+t.loading+"</div>")},success:function(e){if(void 0!==e.posiRow&&void 0!==e.advertRows){var o,i=e.posiRow,d=t;void 0!==i.posi_opts&&(d=a.extend(d,i.posi_opts)),o='<div id="posi'+i.posi_id+'-carousel" class="carousel slide',"fade"==d.effect&&(o+=" carousel-fade"),o+='" data-ride="carousel">',"on"===d.indicator&&(o+='<ol class="carousel-indicators">',a.each(e.advertRows,function(a,e){o+='<li data-target="#posi'+i.posi_id+'-carousel" data-slide-to="'+a+'"',a<1&&(o+=' class="active"'),o+="></li>"}),o+="</ol>"),o+='<div class="carousel-inner">',a.each(e.advertRows,function(a,e){var s,n,c=e.attachRow;void 0!==e.advert_href&&(s=e.advert_href),n=void 0!==c.attach_url?'<img src="'+c.attach_url+'" class="'+t.class_name.img+'" id="posi-'+i.posi_id+"-attach-"+c.attach_id+'" alt="'+_advertRow.advert_name+'" title="'+_advertRow.advert_name+'">':void 0!==e.advert_content?e.advert_content:e.advert_name,o+='<div class="carousel-item',a<1&&(o+=" active"),o+='"><a href="'+s+'" target="_blank">'+n+"</a>","on"===d.caption&&(o+='<div class="carousel-caption d-none d-md-block">',"on"===d.advert_name&&(o+="<h5>"+e.advert_name+"</h5>"),void 0!==e.advert_content&&(o+="<p>"+e.advert_content+"</p>"),o+="</div>"),o+="</div>"}),o+="</div>","on"===d.control&&(o+='<a class="carousel-control-prev" href="#posi'+i.posi_id+'-carousel" data-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="sr-only">Previous</span></a><a class="carousel-control-next" href="#posi'+i.posi_id+'-carousel" data-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="sr-only">Next</span></a>'),o+="</div>",s.find(t.selector.box).html(o)}}})}}(jQuery);